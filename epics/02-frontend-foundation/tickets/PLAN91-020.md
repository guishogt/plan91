# PLAN91-020: Configure Tailwind CSS with Plan 91 Theme

**Epic**: 02 - Frontend Foundation
**Status**: ✅ Complete
**Priority**: High
**Effort**: Medium (2-3 hours)
**Assignee**: AI Agent

---

## Description

Set up Tailwind CSS with a custom configuration for Plan 91's blue color theme. Integrate the build process with Maven so CSS compiles automatically during the build.

---

## Context

Tailwind CSS provides utility-first styling that will speed up UI development. We need to:
1. Add Tailwind as a dependency (via npm or CDN)
2. Create a custom configuration with Plan 91 branding (blue theme)
3. Set up the build process to compile Tailwind CSS
4. Create base CSS file with Tailwind directives

This ticket focuses purely on configuration and build setup, not creating components (that comes in later tickets).

---

## Acceptance Criteria

### Must Have
- [ ] Tailwind CSS is installed and configured
- [ ] Custom `tailwind.config.js` created with Plan 91 blue color palette
- [ ] Input CSS file created with Tailwind directives (`@tailwind base`, `@tailwind components`, `@tailwind utilities`)
- [ ] Build process generates compiled CSS file in `src/main/resources/static/css/`
- [ ] Maven build runs Tailwind CLI or uses frontend-maven-plugin
- [ ] Compiled CSS is optimized for production (purge unused styles)
- [ ] Base HTML template can reference the compiled CSS

### Should Have
- [ ] Custom font configuration (Inter or system-ui)
- [ ] Extended spacing and sizing utilities if needed
- [ ] Dark mode configuration (optional for future use)

### Nice to Have
- [ ] Watch mode for local development (auto-recompile on change)
- [ ] Source maps for debugging

---

## Technical Design

### 1. Installation Approach

**Option A**: Use npm/Node.js (Recommended)
- Install Tailwind CSS via npm
- Use frontend-maven-plugin to run npm commands during Maven build
- Provides full control and customization

**Option B**: Use Tailwind CLI standalone binary
- Download Tailwind CLI binary
- Run during Maven build with exec-maven-plugin
- Simpler setup, no Node.js required

**Decision**: Use Option A (npm with frontend-maven-plugin) for maximum flexibility.

### 2. File Structure

```
project-root/
├── package.json                    # npm dependencies
├── tailwind.config.js              # Tailwind configuration
├── src/main/resources/
│   └── static/
│       └── css/
│           ├── input.css           # Source file with Tailwind directives
│           └── styles.css          # Compiled output (generated)
└── pom.xml                         # Updated with frontend-maven-plugin
```

### 3. Tailwind Configuration

**tailwind.config.js**:
```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    "./src/main/resources/templates/**/*.html",
    "./src/main/java/**/*.java"  // For inline HTML in Java (if needed)
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#eff6ff',
          100: '#dbeafe',
          200: '#bfdbfe',
          300: '#93c5fd',
          400: '#60a5fa',
          500: '#3b82f6',  // Main Plan 91 blue
          600: '#2563eb',
          700: '#1d4ed8',
          800: '#1e40af',
          900: '#1e3a8a',
          950: '#172554',
        },
        success: {
          500: '#10b981',  // Green for streak success
        },
        warning: {
          500: '#f59e0b',  // Orange for strike warning
        },
        danger: {
          500: '#ef4444',  // Red for abandoned routines
        },
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
      },
    },
  },
  plugins: [
    require('@tailwindcss/forms'),  // Better form styling
  ],
}
```

### 4. Input CSS

**src/main/resources/static/css/input.css**:
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  body {
    @apply bg-gray-50 text-gray-900;
  }
}

/* Custom components (if needed) */
@layer components {
  .btn-primary {
    @apply bg-primary-500 hover:bg-primary-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors;
  }
}
```

### 5. Maven Integration

Add to `pom.xml`:
```xml
<plugin>
    <groupId>com.github.eirslett</groupId>
    <artifactId>frontend-maven-plugin</artifactId>
    <version>1.15.0</version>
    <executions>
        <execution>
            <id>install node and npm</id>
            <goals>
                <goal>install-node-and-npm</goal>
            </goals>
            <configuration>
                <nodeVersion>v20.11.0</nodeVersion>
            </configuration>
        </execution>
        <execution>
            <id>npm install</id>
            <goals>
                <goal>npm</goal>
            </goals>
            <configuration>
                <arguments>install</arguments>
            </configuration>
        </execution>
        <execution>
            <id>npm run build</id>
            <goals>
                <goal>npm</goal>
            </goals>
            <configuration>
                <arguments>run build</arguments>
            </configuration>
        </execution>
    </executions>
</plugin>
```

**package.json**:
```json
{
  "name": "plan91-frontend",
  "version": "1.0.0",
  "scripts": {
    "build": "tailwindcss -i ./src/main/resources/static/css/input.css -o ./src/main/resources/static/css/styles.css --minify",
    "watch": "tailwindcss -i ./src/main/resources/static/css/input.css -o ./src/main/resources/static/css/styles.css --watch"
  },
  "devDependencies": {
    "tailwindcss": "^3.4.1",
    "@tailwindcss/forms": "^0.5.7"
  }
}
```

### 6. Test Page

Create a simple test page to verify Tailwind is working:

**src/main/resources/templates/test-tailwind.html**:
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tailwind CSS Test - Plan 91</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="min-h-screen flex items-center justify-center">
        <div class="bg-white p-8 rounded-lg shadow-lg max-w-md">
            <h1 class="text-3xl font-bold text-primary-500 mb-4">Plan 91</h1>
            <p class="text-gray-600 mb-4">Tailwind CSS is configured correctly!</p>
            <button class="btn-primary w-full">Get Started</button>
        </div>
    </div>
</body>
</html>
```

---

## Implementation Steps

1. **Initialize npm**
   ```bash
   npm init -y
   ```

2. **Install Tailwind CSS**
   ```bash
   npm install -D tailwindcss @tailwindcss/forms
   npx tailwindcss init
   ```

3. **Create configuration files**
   - Edit `tailwind.config.js` with Plan 91 theme
   - Create `src/main/resources/static/css/input.css`
   - Create `package.json` scripts

4. **Update pom.xml**
   - Add frontend-maven-plugin configuration

5. **Build CSS**
   ```bash
   npm run build
   ```

6. **Verify output**
   - Check that `styles.css` was generated
   - File should contain compiled Tailwind utilities

7. **Create test page**
   - Create `test-tailwind.html`
   - Start Spring Boot app (if available) or use static server
   - Verify styles render correctly

8. **Commit changes**
   - Add `.gitignore` entries for `node_modules/`, `styles.css`
   - Commit configuration files

---

## Testing

### Manual Testing
1. Run `mvn clean install`
2. Verify `src/main/resources/static/css/styles.css` is generated
3. Open test page in browser
4. Verify:
   - Blue primary color displays correctly
   - Button has proper styling
   - Responsive layout works on mobile/desktop

### Build Testing
1. Clean project: `mvn clean`
2. Build: `mvn compile`
3. Verify CSS is regenerated automatically

---

## Definition of Done

- [ ] Tailwind CSS installed via npm
- [ ] `tailwind.config.js` created with Plan 91 blue theme
- [ ] Input CSS file created with Tailwind directives
- [ ] Maven build compiles CSS successfully
- [ ] Compiled `styles.css` exists in `static/css/`
- [ ] Test page renders with correct styling
- [ ] `.gitignore` updated (node_modules, generated CSS)
- [ ] Code compiles with `mvn clean compile`
- [ ] Documentation updated in EPIC.md
- [ ] Ticket marked complete in CURRENT_WORK.md

---

## Related Files

**New Files**:
- `package.json`
- `tailwind.config.js`
- `src/main/resources/static/css/input.css`
- `src/main/resources/templates/test-tailwind.html`

**Modified Files**:
- `pom.xml`
- `.gitignore`
- `docs/CURRENT_WORK.md`
- `epics/02-frontend-foundation/EPIC.md`

---

## References

- [Tailwind CSS Installation](https://tailwindcss.com/docs/installation)
- [Tailwind CSS Configuration](https://tailwindcss.com/docs/configuration)
- [Frontend Maven Plugin](https://github.com/eirslett/frontend-maven-plugin)
- [@tailwindcss/forms Plugin](https://github.com/tailwindlabs/tailwindcss-forms)

---

**Created**: 2026-01-31
**Estimated Time**: 2-3 hours
**Actual Time**: TBD
